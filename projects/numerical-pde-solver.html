<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numerical PDE Solver - Songgun Lee</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <!-- MathJax for rendering LaTeX equations -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="../index.html">Songgun Lee</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="../index.html" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="../about.html" class="nav-link">About</a></li>
                <li class="nav-item"><a href="../projects.html" class="nav-link active">Projects</a></li>
                <li class="nav-item"><a href="../writing-interests.html" class="nav-link">Writing & Interests</a></li>
                <li class="nav-item"><a href="../resume.html" class="nav-link">Resume</a></li>
                <li class="nav-item"><a href="../contact.html" class="nav-link">Contact</a></li>
            </ul>
        </div>
    </nav>

    <main class="project-detail">
        <section class="project-detail-hero">
            <div class="container">
                <h1 class="page-title">Numerical PDE Solver (Finite Difference)</h1>
                <p class="page-subtitle">Solving Partial Differential Equations using the Relaxation Method on a
                    discretised 2D grid, applicable to Heat Equations and Black-Scholes models.</p>
                <div class="detail-meta">
                    <span class="tech-tag">Python</span>
                    <span class="tech-tag">Finite Difference Method</span>
                    <span class="tech-tag">Numerical Analysis</span>
                    <span class="tech-tag">PDEs</span>
                </div>
            </div>
        </section>

        <section class="detail-content">
            <div class="container">
                <div class="content-block">
                    <h2>Project Overview</h2>
                    <p>Partial Differential Equations (PDEs) govern heat diffusion, fluid dynamics, and option pricing
                        in finance (Black-Scholes). This project implements a numerical solver from scratch using the
                        Finite Difference Method to solve Laplace's equation ($\nabla^2 V = 0$) and other boundary value
                        problems.</p>
                    <p>The implementation uses the "Relaxation Method," an iterative process that converges to the
                        steady-state solution, demonstrating core concepts used in industry-grade PDE solvers for
                        derivative pricing.</p>
                </div>

                <div class="content-block">
                    <h2>Key Concepts Implemented</h2>
                    <div class="key-concepts-grid">
                        <div class="concept-card">
                            <h3>Finite Difference Method</h3>
                            <p>Discretized continuous derivatives into difference equations on a grid, converting
                                calculus problems into matrix algebra manageable by computers.</p>
                        </div>
                        <div class="concept-card">
                            <h3>Relaxation Algorithm</h3>
                            <p>Implemented an iterative averaging algorithm where each grid point is updated based on
                                its neighbors, simulating the physical process of diffusion.</p>
                        </div>
                        <div class="concept-card">
                            <h3>Boundary Conditions</h3>
                            <p>Handled Dirichlet boundary conditions (fixed values at edges) which equate to boundary
                                options or fixed-rate constraints in financial models.</p>
                        </div>
                    </div>
                </div>

                <div class="content-block">
                    <h2>Visual Analysis</h2>
                    <div class="visual-showcase">
                        <img src="../Finance & Quantitative Analysis/images/pde_config_1.png"
                            alt="Potential Field Heatmap">
                        <p class="visual-caption">Heatmap visualization of the electric potential field relaxing to a
                            steady state between two capacitor plates. The color gradient represents the potential
                            magnitude.</p>
                    </div>
                </div>

                <div class="content-block">
                    <h2>Source Code: PDE Solver (`p1_hw10.py`)</h2>
                    <div class="code-snippet">
                        <pre><code>#!/usr/bin/env python3
#First eps file is 256 iterations, gridsize 60, plate thickness 0.05,plate
#width 0.2, gap between plates being 2*plate thickness which is 0.1, and voltage
#equal to 1.
#The second file is 100000 iterations (as I wanted to see if the converging num
#ber changes).
#The last file is the "dipole", as I changed the gap between plates being 10*plate thickness.


import numpy as np
import matplotlib.pyplot as plt
import time

ITER = 256
#ITER=100000
GRIDSIZE = 60
PTH = 0.05
PWID = 0.2
GAP = 2.0 * PTH
#GAP = 10.0 * PTH
VOLTAGE = 1.0

def load_boundary(darray, gridsize):
    """Place predetermined potential at boundary points."""
    clx = int(0.5 * gridsize * (1.0 - PWID))
    cux = gridsize - clx
    capth = (2.0 * PTH + GAP) * gridsize
    cly1 = int(0.5 * (gridsize - capth))
    cuy1 = int(cly1 + gridsize * PTH)
    cly2 = int(cly1 + gridsize * (GAP + PTH))
    cuy2 = gridsize - cly1
    darray[clx:cux, cly1:cuy1] = -VOLTAGE
    darray[clx:cux, cly2:cuy2] = VOLTAGE
    darray[0, :] = 0.0        
    darray[gridsize-1, :] = 0.0 
    darray[:, 0] = 0.0  
    darray[:, gridsize-1] = 0.0

olddata = np.zeros((GRIDSIZE, GRIDSIZE))
newdata = np.zeros((GRIDSIZE, GRIDSIZE))
load_boundary(olddata, GRIDSIZE)

print(f"Starting simulation with {ITER} iterations on grid {GRIDSIZE}x{GRIDSIZE}...")

t0 = time.perf_counter()

for i in range(ITER):
    newdata = 0.25 * (np.roll(olddata, 1, axis=0) + 
                      np.roll(olddata, -1, axis=0) + 
                      np.roll(olddata, 1, axis=1) + 
                      np.roll(olddata, -1, axis=1))
    load_boundary(newdata, GRIDSIZE)
    diff = np.abs(newdata - olddata).sum()
    print('iteration: %d difference sum: %.16f' % (i, diff))
    olddata = np.copy(newdata)

elapsed = time.perf_counter() - t0
print()
print('Time elapsed: %.6f s' % elapsed)

# Plotting
plotarr = np.flipud(olddata.transpose(1, 0))
fig, ax = plt.subplots(dpi=180)
im = ax.imshow(plotarr, interpolation='none', cmap='jet')
plt.colorbar(im, label='Potential (V)')
plt.title("Capacitor Potential Relaxation")
output_filename='capacitor_config_1.eps'
plt.savefig(output_filename,format='eps')
plt.show()

input("\nPress <Enter> to exit . . . \n")</code></pre>
                    </div>
                </div>

                <div class="project-nav-footer">
                    <a href="../projects.html" class="btn btn-primary">Back to Projects</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024 Songgun Lee. All rights reserved.</p>
                <div class="footer-links">
                    <a href="https://www.linkedin.com/in/songgun-lee-562991227/" target="_blank"
                        rel="noopener noreferrer">LinkedIn</a>
                    <a href="https://github.com/sgjlee0520" target="_blank" rel="noopener noreferrer">GitHub</a>
                </div>
            </div>
        </div>
    </footer>
</body>

</html>